---
title: Widget View
description: Universal router for rendering Jupyter widgets
icon: LayoutGrid
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { Callout } from 'fumadocs-ui/components/callout';
import { BuiltinWidgetsDemo } from '@/app/components/BuiltinWidgetsDemo';
import { RegistrySetup } from '@/components/docs/registry-setup';

<div className="my-8 overflow-x-auto rounded-xl border bg-fd-card p-6">
  <BuiltinWidgetsDemo />
</div>

Universal widget view component that routes widget models to the appropriate renderer. Automatically detects anywidgets (with `_esm` field) and routes to built-in shadcn-backed components for standard ipywidgets.

## Features

- **Automatic routing** - Detects widget type and renders appropriate component
- **anywidget support** - Routes ESM-based widgets to AnyWidgetView
- **Built-in widgets** - shadcn-backed components for standard ipywidgets
- **Fallback handling** - Shows helpful message for unsupported widgets
- **Loading states** - Displays loading indicator while model loads

## Installation

<Tabs items={['CLI', 'Manual']}>
  <Tab value="CLI">
    ```bash
    npx shadcn@latest add @nteract/widget-view
    ```
    <RegistrySetup />
  </Tab>
  <Tab value="Manual">
    Copy the files to your project:
    - [widget-view.tsx](https://github.com/nteract/elements/blob/main/registry/widgets/widget-view.tsx)
    - [widget-registry.ts](https://github.com/nteract/elements/blob/main/registry/widgets/widget-registry.ts)
    - [controls/](https://github.com/nteract/elements/tree/main/registry/widgets/controls) (for built-in widgets)

    **Requires:** [Widget Store](/docs/widgets/widget-store), [AnyWidget View](/docs/widgets/anywidget-view)
  </Tab>
</Tabs>

## Usage

### Basic Usage

```tsx
import { WidgetView } from "@/components/widgets/widget-view"
// Import to register built-in widgets
import "@/components/widgets/controls"

function NotebookOutput({ modelId }: { modelId: string }) {
  return <WidgetView modelId={modelId} />
}
```

### With Provider

```tsx
import { WidgetStoreProvider } from "@/components/widgets/widget-store-context"
import { WidgetView } from "@/components/widgets/widget-view"
import "@/components/widgets/controls"

function App() {
  return (
    <WidgetStoreProvider sendMessage={(msg) => kernel.send(msg)}>
      <WidgetView modelId="comm-id-123" />
    </WidgetStoreProvider>
  )
}
```

## Props

| Prop | Type | Default | Description |
| --- | --- | --- | --- |
| `modelId` | `string` | — | The comm_id of the widget model |
| `className` | `string` | `""` | Additional CSS classes for the container |

## Routing Logic

The component follows this decision tree:

```
Model exists?
├── No → Show loading state
└── Yes → Has _esm field?
    ├── Yes → Render with AnyWidgetView
    └── No → Has registered component?
        ├── Yes → Render built-in component
        └── No → Show unsupported widget message
```

## Built-in Widgets

24 ipywidgets are supported out of the box when you import `@/components/widgets/controls`:

- **Sliders:** IntSlider, FloatSlider, IntRangeSlider, FloatRangeSlider
- **Progress:** IntProgress, FloatProgress
- **Text:** Text, Textarea, HTML
- **Selection:** Dropdown, RadioButtons, ToggleButtons, SelectMultiple
- **Boolean:** Checkbox, ToggleButton
- **Other:** Button, ColorPicker
- **Containers:** VBox, HBox, Box, GridBox, Tab, Accordion

<Callout type="info">
  See the [Built-in Controls](/docs/widgets/controls) page for a full interactive gallery with all properties.
</Callout>

## Registering Custom Widgets

You can register your own widget components:

```tsx
import { registerWidget } from "@/components/widgets/widget-registry"

// Create your component
function MyCustomWidget({ modelId, className }: WidgetComponentProps) {
  const value = useWidgetModelValue(modelId, "value")
  return <div className={className}>{value}</div>
}

// Register it
registerWidget("MyCustomModel", MyCustomWidget)
```

## Widget State Properties

Built-in widgets support these common ipywidgets properties:

| Property | Type | Description |
| --- | --- | --- |
| `value` | varies | The widget's current value |
| `description` | `string` | Label text |
| `disabled` | `boolean` | Disable interaction |
| `min` | `number` | Minimum value (sliders/progress) |
| `max` | `number` | Maximum value (sliders/progress) |
| `step` | `number` | Step increment (sliders) |
| `orientation` | `"horizontal" \| "vertical"` | Layout direction |
| `readout` | `boolean` | Show value readout (sliders) |
| `bar_style` | `string` | Progress bar color variant |
| `button_style` | `string` | Button color variant |

## Two-Way Binding

All widgets support two-way binding. When the user interacts with a widget, it sends a `comm_msg` with the updated state to the kernel:

```json
{
  "header": { "msg_type": "comm_msg" },
  "content": {
    "comm_id": "widget-id",
    "data": {
      "method": "update",
      "state": { "value": 42 }
    }
  }
}
```

<Callout type="info">
  Button widgets send custom events (`{ event: "click" }`) instead of state updates.
</Callout>

## Styling

All built-in widgets use shadcn/ui primitives and respect your theme. You can customize them via:

1. **CSS Variables** - Modify your `tailwind.config.js` theme
2. **className prop** - Add custom classes to the container
3. **Component overrides** - Register your own component for a model name
